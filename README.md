# xZ4PH0Dx_microservices
xZ4PH0Dx microservices repository

## Домашнее задание 18

Homework monitoring-1
- Prometheus: запуск, конфигурация, знакомство с Web UI
- Мониторинг состояния микросервисов 
- Сбор метрик хоста с использованием экспортера

## Домашнее задание 17

Homework gitlab-ci-2
- Добавлены окружения к задачам в пайплайнах
- Добавлены фильтры по тэгам для задач, относящихся к stage и production окружениям
- Добавлены динамические окружения


## Домашнее задание 16

Homework gitlab-ci-1
- создан экземпляр вм для установки докер-образа gitlab
- добавлен и запущен контейнер gitlab-omnibus
- произведена настройка gitlab через веб-интерфейс
- на сервер gitlab добавлен проект
- добавлен контейнер gitlab-runner
- gitlab-runner зарегистрирован в проекте
- добавлен тест simpletest.rb

## Домашнее задание 15

Homework docker-4
- запущены образы docker c различными сетевыми драйверами (none, host), как указано на слайдах
- сделана попытка запустить несколько контейнеров nginx с использованием сетового драйвера host. запущенным остался только самый первый, т.к. "последователи" не могут открыть серверный сокет на том же адресе и порту, что и первый веб-сервер.
- создан и проверен docker-compose.yml из слайдов
- docker-compose.yml изменен для параметризации и использования нескольких сетей
- имена контейнеров состоят из имени базовой директории, откуда запускается docker-compose, имени образа без тэга и номера запущенного экземпляра контейнера. Это названте можно изменить через параметр container_name. но в этом случае будет невозможно запукать несколько экземпляров такого контейнера. Ещё возможно выбирать имя базовой директории и образов и смириться с цифрами в конце :)
- создан файл .env с переменными для параметризации docker-compose

## Домашнее задание 14

Homework docker-3
 - созданы образы докер-контейнеров с микросервисами приложения (слайды 1-15)
 - при создании образа контейнера ui сигнатуры промежуточных образов первых шагов
   из Dockerfile совпадают с образами первых шагов контейнера comment, поэтому
   выполнение идёт не с первого шага, а вытаскивается из кеша.

## Домашнее задание 13 

Homework docker-2

 - cоздан новый проект в gcloud
 - настроена аутентификация gce sdk в новом проекте
 - установлена и настроена docker-machine
 - повторена практика из лекции с различными уровнями изоляции пространств имен
 - при запуске в изолированном пространстве имен процессов виден только один процесс --
   сама программа htop. При запуске же этого образа с параметром `-pid host` в программе
   htop видны все процессы, запущеннные на машине.
 - По инструкциям со слайдов создан образ контейнера с установленными бд и сервером приложения
 - Создан аккаунт на docker hub
 - получившийся образ загружен на docker hub

## Домашнее задание 12

Homework docker-1

 - Установлен Docker, Docker machine, Docker Compose
 - Изучены основные команды
 - Закоммитчен образ из контейнера
 - Выполнены дополнительные задания
