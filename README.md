# xZ4PH0Dx_microservices
xZ4PH0Dx microservices repository

## Домашнее задание 24

Homework kubernetes-4
- разбор работы с Helm
- запуск Gitlab в Kubernetes
- запуск CI/CD pipeline в Kubernetes

## Домашнее задание 23

Homerowk kubernetes-3
- определение сетевого взаимодействия с помощью Service (kube-dns, kubenet, nodePort, LoadBalancer, Ingress);
- защита сервиса с помощью TLS (TLS Termination);
- работа с Network Policy в GKE (определение доступов между сервисами);
- работа с хранилищем для базы данных в GCE - reddit-mongo-disk.

## Домашнее задание 22

Homework kubernetes-2
- развернуто локальное окружение kubernetes: minikube, kubectl;
- приложение reddit запущено в локальном окружении (использованы deployments, services, namespaces);
- знакомство с kubernetes dashboard;
- развернут кластер в GKE;
- запуск приложения reddit в кластере GKE;
- запуск kubernetes dashboard в GKE;

## Домашнее задание 21

Homework kubernetes-1
- созданы манифесты в виде Deployment для сервисов приложения Reddit(ui,post, comment, mongo);
- пройден туториал Kubernetes The Hard way;
- на кластере, созданном в ходе прохождения туториала, запущены поды из манифестов.


## Домашнее задание 20

Homework logging-1
- подготовлено и запущено окружение с новой версией кода, в которую был добавлен функционал логирования;
- подготовлено и запущено окружение с EFK стеком;
- работа со структурированными логами сервиса post:
- настройка отправки логов сервиса post в Fluentd;
- визуализация полученных логов в Kibana;
- добавление фильтров в Fluentd;
- работа с неструктурированными логами сервиса ui:
- настройка отправки логов сервиса ui в Fluentd;
- парсинг логов с помощью регулярных выражений;
- парсинг логов с помощью grok-шаблонов;
- распределенный трейсинг сервисов с помощью Zipkin;

## Домашнее задание 19

Homework monitoring-2
- Мониторинг Docker контейнеров
- Визуализация метрик
- Сбор метрик работы приложения и бизнес метрик
- Настройка и проверка алертинга

## Домашнее задание 18

Homework monitoring-1
- Prometheus: запуск, конфигурация, знакомство с Web UI
- Мониторинг состояния микросервисов 
- Сбор метрик хоста с использованием экспортера

## Домашнее задание 17

Homework gitlab-ci-2
- Добавлены окружения к задачам в пайплайнах
- Добавлены фильтры по тэгам для задач, относящихся к stage и production окружениям
- Добавлены динамические окружения

## Домашнее задание 16

Homework gitlab-ci-1
- создан экземпляр вм для установки докер-образа gitlab
- добавлен и запущен контейнер gitlab-omnibus
- произведена настройка gitlab через веб-интерфейс
- на сервер gitlab добавлен проект
- добавлен контейнер gitlab-runner
- gitlab-runner зарегистрирован в проекте
- добавлен тест simpletest.rb

## Домашнее задание 15

Homework docker-4
- запущены образы docker c различными сетевыми драйверами (none, host), как указано на слайдах
- сделана попытка запустить несколько контейнеров nginx с использованием сетового драйвера host. запущенным остался только самый первый, т.к. "последователи" не могут открыть серверный сокет на том же адресе и порту, что и первый веб-сервер.
- создан и проверен docker-compose.yml из слайдов
- docker-compose.yml изменен для параметризации и использования нескольких сетей
- имена контейнеров состоят из имени базовой директории, откуда запускается docker-compose, имени образа без тэга и номера запущенного экземпляра контейнера. Это названте можно изменить через параметр container_name. но в этом случае будет невозможно запукать несколько экземпляров такого контейнера. Ещё возможно выбирать имя базовой директории и образов и смириться с цифрами в конце :)
- создан файл .env с переменными для параметризации docker-compose

## Домашнее задание 14

Homework docker-3
 - созданы образы докер-контейнеров с микросервисами приложения (слайды 1-15)
 - при создании образа контейнера ui сигнатуры промежуточных образов первых шагов
   из Dockerfile совпадают с образами первых шагов контейнера comment, поэтому
   выполнение идёт не с первого шага, а вытаскивается из кеша.

## Домашнее задание 13 

Homework docker-2

 - cоздан новый проект в gcloud
 - настроена аутентификация gce sdk в новом проекте
 - установлена и настроена docker-machine
 - повторена практика из лекции с различными уровнями изоляции пространств имен
 - при запуске в изолированном пространстве имен процессов виден только один процесс --
   сама программа htop. При запуске же этого образа с параметром `-pid host` в программе
   htop видны все процессы, запущеннные на машине.
 - По инструкциям со слайдов создан образ контейнера с установленными бд и сервером приложения
 - Создан аккаунт на docker hub
 - получившийся образ загружен на docker hub

## Домашнее задание 12

Homework docker-1

 - Установлен Docker, Docker machine, Docker Compose
 - Изучены основные команды
 - Закоммитчен образ из контейнера
 - Выполнены дополнительные задания
